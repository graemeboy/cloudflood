<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>
<head>
    <title>Cloud:flood Members Area</title>

    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" type="text/css">
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <script src="js/iris.min.js"></script>
<style type="text/css">
  #member-nav
  {
    background-color: #ffffff;
  }
  td.campaigns-head-actions
  {
    width: 100px;
  }
  .campaign-action
  {
   
  }
  .campaign-submit-wrapper 
  {
    text-align: center;
  }
  footer
  {
    padding: 10px;
  }

  .campaign-create-head-main
  {
    margin-bottom: 20px;
  }
  .campaign-create-section
  {
    padding: 8px 0 8px 15px;
    border-left: 2px solid #eee;
  }
  .campaign-create-section-active
  {
    border-left-color: #b0b0ff;
  }
  .campaign-submit-wrapper
  {
    margin-top: 20px;
  }
  .campaign-create-preview-inner
  {
    width: 100%;
    padding: 0;
    margin: 0;
  }
  .campaign-create-picker-preview
  {
    display:inline-block;
    background-color: #333;
    margin-right: -3px; 
    position: relative;
    display: inline-block;
    margin-bottom: 0;
    font-weight: 400;
    text-align: center;
    vertical-align: middle;
    cursor: pointer;
    background-image: none;
    border: 1px solid transparent;
    white-space: nowrap;
    padding: 6px 12px;
    font-size: 14px;
    line-height: 1.42857143;
    border-radius: 4px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border-color: #ccc;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
    float:left;
    height:31px;
    width:31px;
  }
  .campaign-create-picker-select
  {
    display:inline-block;
    width:200px;
  }
  .campaign-create-color-picker
  {
    display:none;
    width:70px;
  }
  #campaign-paragraph
  {
    height: 85px;
  }
  .preview-fixed
  {
    position:fixed;
    top:0;
    left:0;
  }
</style>

</head>

<body>

<nav id="member-nav" class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#"><span class="glyphicon glyphicon-cloud"></span> </a>
    </div>

    <div class="collapse navbar-collapse" style="margin-left: 25px;">
      <ul class="nav navbar-nav navbar-left"> 
        <li class="active">
          <a href="#">Create a new campaign</a>
        </li>  
      </ul>
      <ul class="nav navbar-nav navbar-right">   
				
				<li class="right-menu-item nav-sign-out">
				  <a href="#" id="sign-in"><span class="glyphicon glyphicon-cog"></span> Account Settings</a>
				</li>
				<li class="right-menu-item nav-sign-out">
				  <a href="#" id="sign-in"><span class="glyphicon glyphicon-log-out"></span> Sign Out</a>
				</li>
				
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <div id="campaign-list" style="display:none">
    <h3>Your Campaigns</h3>
    <table class="table">
      <thead>
        <th class="campaigns-head-name">Name</th>
        <th class="campaigns-head-conversions">Conversions</th>
        <th class="campaigns-head-actions">Actions</th>
      </thead>
      <tbody>
        <tr>
          <td>Example</td>
          <td>206</td>
          <td>
              <div class="col-xs-2">
                <a href="#" class="campaign-action"><span class="glyphicon glyphicon-edit"></span></a>
              </div>
              <div class="col-xs-2">
                <a href="#" class="campaign-action"><span class="glyphicon glyphicon-stats"></span></a>
              </div>
              <div class="col-xs-2">
                 <a href="#" class="campaign-action"><span class="glyphicon glyphicon-trash"></span></a>
              </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div>You have not created any campaigns yet.</div>
  </div>
  
  <div id="campaign-create">
    <h3 class="campaign-create-head-main">Create a Campaign</h3>
    <form id="campaign-create-form" role="form" action="process-campaign" method="post">
    <div class="col-md-6">
      
      
      <div class="campaign-create-section campaign-create-section-active" id="campaign-create-section-name">
        <div class="form-group">
          <label for="campaign-name">Campaign Name</label>
          <input type="text" class="form-control campaign-create-input" data-section="name" id="campaign-name" placeholder="My campaign">
        </div>
      </div>
      <div class="campaign-create-section" id="campaign-create-section-message">
        <h4 class="campaign-create-head">Your Message</h4>
        <div class="form-group">
          <label for="">Tweet or Status to be Shared</label>
          <p>Write a message here that you want to your audience to share</p>
          <textarea type="text" name="campaign-message" class="form-control campaign-create-input" id="campaign-message" placeholder="Your tweet / status" data-section="message"></textarea>
          
          <div class="checkbox">
           <label>
              <input name="campaign-message-edit" value="yes" class="campaign-create-input" data-section="message" type="checkbox"> Allow the user to edit this message
            </label>
          </div>
        </div>
        <div class="form-group">
          <label for="campaign-link">Link to share (Optional)</label>
          <p>Add a link included in this message, if you want</p>
          <input type="text" class="form-control campaign-create-input" data-section="message" name="campaign-link" id="campaign-link" placeholder="http://">
        </div>
      </div>
      
      <div class="campaign-create-section" id="campaign-create-section-design">
        <h4 class="campaign-create-head">User Interface (Preview to the right)</h4>
        <div class="form-group col-sm-12">
          <label for="campaign-heading" class="col-sm-12">Interface Heading</label>
          <div class="col-sm-8">
          <input type="text" class="form-control campaign-create-input" data-section="design" name="campaign-heading" id="campaign-heading" value="Post a Message to Receive the Product">
          </div> <!-- sm-8 -->
          <div class="col-sm-4">
            
            <div class="campaign-create-picker-select">
            <div class="campaign-create-picker-preview" id="social-intro-heading-preview"></div>
              <a class="campaign-create-picker-btn btn btn-default" data-target="campaign-create-color-picker-heading" href="#">
                <span id="campaign-create-social-intro-heading-btn-text" data-target="campaign-create-color-picker-heading" style="font-size:12px;">Select Color</span></a>
              <input type="text" id="campaign-create-color-picker-heading" class='form-control campaign-create-color-picker' data-target="social-intro-heading" value="#333333" />
            </div> <!-- picker-select -->
          </div> <!-- sm-4 -->
          <div class="clearfix"></div>
        </div> <!-- sm-12 -->
        <div class="form-group col-sm-12">
            <label for="campaign-heading" class="col-sm-12">Interface Body</label>
            <p>What should your users know before they post this message?</p>
            <div class="col-sm-8">
            <textarea class="form-control campaign-create-input" data-section="design" name="campaign-paragraph" id="campaign-paragraph">Before accessing this content, the author requests that you post a short message to your social network.</textarea>
            </div>
            <div class="col-sm-4">
            
            <div class="campaign-create-picker-select">
            <div class="campaign-create-picker-preview" id="social-intro-paragraph-preview"></div>
              <a class="campaign-create-picker-btn btn btn-default" data-target="campaign-create-color-picker-paragraph" href="#">
                <span id="campaign-create-social-intro-paragraph-btn-text" data-target="campaign-create-color-picker-paragraph" style="font-size:12px;">Select Color</span></a>
              <input type="text" id="campaign-create-color-picker-paragraph" class='form-control campaign-create-color-picker' data-target="social-intro-paragraph" value="#333333" />
            </div> <!-- picker-select -->
          </div> <!-- sm-4 -->
        </div>
        <div class="form-group col-sm-12">
          <label for="campaign-security" class="col-sm-12">Security Promise</label>
          <div class="col-sm-8">
          <input type="text" class="form-control campaign-create-input" data-section="design" name="campaign-security" id="campaign-security" value="We'll never post without your permission!">
          </div>
          <div class="col-sm-4">
            
            <div class="campaign-create-picker-select">
            <div class="campaign-create-picker-preview" id="social-intro-security-preview"></div>
              <a class="campaign-create-picker-btn btn btn-default" data-target="campaign-create-color-picker-security" href="#">
                <span id="campaign-create-social-intro-security-btn-text" data-target="campaign-create-color-picker-security" style="font-size:12px;">Select Color</span></a>
              <input type="text" id="campaign-create-color-picker-security" class='form-control campaign-create-color-picker' data-target="post-security" value="#333333" />
            </div> <!-- picker-select -->
          </div> <!-- sm-4 -->
        </div>
        <div class="clearfix"></div>
        <div class="col-sm-4">
          <label for="campaign-background-color" class="col-sm-12">Background Color</label>
          <div class="campaign-create-picker-select">
            <div class="campaign-create-picker-preview" style="background-color:#ffffff" id="social-intro-background-preview"></div>
              <a class="campaign-create-picker-btn btn btn-default" data-target="campaign-create-color-picker-background" href="#">
                <span id="campaign-create-social-intro-background-btn-text" data-target="campaign-create-color-picker-background" style="font-size:12px;">Select Color</span></a>
              <input type="text" id="campaign-create-color-picker-background" class='form-control campaign-create-color-picker' data-target="social-intro-background" value="#ffffff" />
            </div> <!-- picker-select -->
            
        </div> <!-- sm-4 -->
        
        <div class="col-sm-4">
          <label for="campaign-share-text-color" class="col-sm-12">Message Text Color</label>
          <div class="campaign-create-picker-select">
            <div class="campaign-create-picker-preview" id="share-text-preview"></div>
              <a class="campaign-create-picker-btn btn btn-default" data-target="campaign-create-color-picker-share-text" href="#">
                <span id="campaign-create-social-intro-share-text-btn-text" data-target="campaign-create-color-picker-share-text" style="font-size:12px;">Select Color</span></a>
              <input type="text" id="campaign-create-color-picker-share-text" class='form-control campaign-create-color-picker' data-target="share-text" value="#fff" />
            </div> <!-- picker-select -->
            
        </div> <!-- sm-4 -->
        
        <div class="col-sm-4">
          <label for="campaign-font" class="col-sm-12">Font Type</label>
        </div>
        <div class="clearfix"></div>
      </div>
      
        <!--
<div class="form-group">
          <label for="exampleInputFile">File input</label>
          <input type="file" id="exampleInputFile">
          <p class="help-block">Example block-level help text here.</p>
        </div>
-->

  <div class="campaign-create-section" id="campaign-create-section-product">
    <h4 class="campaign-create-head">Redirect Link</h4>
    <div class="form-group">
      <p>Where does the user go after sharing your message?</p>
      <input type="text" class="form-control campaign-create-input" data-section="product" name="campaign-product" id="campaign-product" placeholder="http://">
    </div> <!-- form-group -->
  </div> <!-- create-section product -->
  <div class="campaign-create-section" id="campaign-create-section-networks">
    <h4 class="campaign-create-head">Social Networks</h4>
      <div class="checkbox">
          <label>
            <input name="campaign-twitter" value="yes" class="campaign-create-input" id="campaign-create-checkbox-twitter" data-section="networks" type="checkbox" checked="checked"> Allow Posting on Twitter
          </label>
        </div>
        <div class="checkbox">
          <label>
            <input name="campaign-facebook" value="yes" class="campaign-create-input" id="campaign-create-checkbox-facebook" data-section="networks" type="checkbox" checked="checked"> Allow Posting on Facebook
          </label>
        </div>
</div>
      
    </div>
    <div class="col-md-6">
      <div class="campaign-create-preview" id="campaign-create-section-preview">
        <h3 class="campaign-create-head">Preview</h3>
        <p>Once your users click on the button, they will see the popup previewed below.</p>
        <hr/>
        <div class="campaign-create-preview-inner">
        <style type="text/css">
.social-modal-container
{
  width: 500px;
  padding: 10px 20px;
  font-family: 'Helvetica Neue', helvetica, sans-serif;
}
.share-quote-mark
{
  color: #fff;
  font-size: 36px;
  text-align: center;
  width: 36px;
  height: 36px;
  margin: 0 auto;
  margin-top:-12px;
  background-color: #999;
  line-height: 36px;
  border-radius: 36px;
  font-family: 'Times New Roman';
}
.share-text
{
  border: none;
  margin-top:10px;
  width:100%;
  height: 65px;
  padding: 5px 15px;
  margin-top: 0px;
  margin-bottom: 20px;
  font-family: Georgia,Cambria,"Times New Roman",Times,serif;
  letter-spacing: .01rem;
  font-weight: 400;
  font-style: italic;
  font-size: 14px;
  border-left: 3px solid #57ad68;
  padding-left: 20px;
  padding-bottom: 10px;
  padding-top: 10px;
  overflow: hidden;
  resize: none;
}
.share-text:focus
{
  outline: none;
}
.facebook-icon, .twitter-icon
{
  width: 48px;
  height: 48px;
  display: inline-block;
  overflow: hidden;
  position: absolute;
  left: 5px;
  top: 0;
  background-repeat: no-repeat;
  background-position: center center;
}
.facebook-icon
{
  background-image: url('img/facebook-48.png');
}
.twitter-icon
{
  background-image: url('img/twitter-48.png');
}
.facebook-signin
{
  border: 1px solid #32456F;
  background: #678bbf; /* Old browsers */
  background: -moz-linear-gradient(top, #678bbf 0%, #39548c 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#678bbf), color-stop(100%,#39548c)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #678bbf 0%,#39548c 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top, #678bbf 0%,#39548c 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #678bbf 0%,#39548c 100%); /* IE10+ */
  background: linear-gradient(to bottom, #678bbf 0%,#39548c 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#678bbf', endColorstr='#39548c',GradientType=0 ); /* IE6-9 */
}
.twitter-signin
{
  border: 1px solid #32456F;
  background-color: #1c95d0;
  background-image: -moz-linear-gradient(top, #2daddc, #0271bf);
  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#2daddc), to(#0271bf));
  background-image: -webkit-linear-gradient(top, #2daddc, #0271bf);
  background-image: -o-linear-gradient(top, #2daddc, #0271bf);
  background-image: linear-gradient(to bottom, #2daddc, #0271bf);
  background-repeat: repeat-x;
  border-color: #0271bf #0271bf #014473;
  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff2daddc', endColorstr='#ff0271bf', GradientType=0);
}
.facebook-signin, .twitter-signin
{
  height: 46px;
  border-radius: 5px;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  width: 215px;
  float:left;
  margin-right: 15px;
  position: relative
}

.facebook-signin-text, .twitter-signin-text
{
  color: #ffffff;
  padding: 0;
  font-family: 'Helvetica Neue', Helvetica, sans-serif;
  font-weight: 100;
  font-size: 16px;
  text-shadow: 0 1px 1px rgba(0,0,0,0.6);
  display: inline-block;
  position: absolute;
  top: 15px;
  left: 60px;
  line-height: 1;
}
.word-strong
{
  font-weight: 400;
}
.word-italic
{
  font-style: italic;
}
.post-secure
{
  font-style: italic;
  text-align: center;
  margin-top:5px;
  font-size: 13px;
}</style>
<div class="social-modal-container">
  <div class="social-intro">
    <h3 id="social-intro-heading"></h3>
    <p id="social-intro-paragraph"></p>
  </div>
  <div class="share-container">
    <div class="share-wrapper">
      <!-- <div class="share-quote-mark">"</div> -->
      <textarea class="share-text" id="campaign-message-preview" maxlength="140">This is my awesome product description. http://www.graemeboy.com</textarea>
    </div>
    <div style="clear:both"></div>
    <div class="share-send">          
      <a href="#" class="facebook-signin">
        <div class="facebook-icon"></div>
        <div class="facebook-signin-text">
            <span class="word-strong">Post</span>
            <span class="word-italic">via</span>
            <span class="word-strong">Facebook</span>  
        </div> <!-- facebook-signin-text -->
      </a>
      <a href="#" class="twitter-signin">
          <div class="twitter-icon"></div>
          <div class="twitter-signin-text">
            <span class="word-strong">Post</span>
            <span class="word-italic">via</span>
            <span class="word-strong">Twitter</span>  
          </div> <!-- twitter-signin-text -->
      </a>
    </div> <!-- share-send -->
    <div style="clear:both"></div>
    <div class="post-secure" id="post-security">We'll never post without your permission!</div>
  </div> <!-- share-container -->
</div> <!-- social-modal-container -->
        </div><!-- preview-inner -->
      </div> <!--design-section
    </div> <!-- col-md-6 -->
    
    </div>
    
    <div class="clearfix"></div>
     <div class="campaign-submit-wrapper">
      <input type="submit" class="btn btn-lg btn-success" value="Create Campaign" />
    </div>
  </div>
  </form>
  
  </div>
  
  <div id="campaign-stats">
    <h3>Campaign Stats</h3>
  </div>
</div>

<script type="text/javascript">
  jQuery(document).ready(function ($)
  {
    var previewOffset = $('#campaign-create-section-preview').offset();
    $('#campaign-create-section-preview').css('left', previewOffset.left);
    
    $(window).scroll(function(){
      console.log($(this).scrollTop() + ' vs ' + previewOffset.top);
      if ($(this).scrollTop() > previewOffset.top) 
      {
          $('#campaign-create-section-preview').addClass('preview-fixed');
      }  // if
      else 
      {
          $('#campaign-create-section-preview').removeClass('preview-fixed');
      } // else
    }); // window scroll
    
    
    var pickerTarget;
    updateMessagePreview(); // on load, update the preview
    updateInterfacePreview();
    $('.campaign-create-picker-btn, .campaign-create-picker-btn span').click(function (e)
    {
      e.preventDefault();

      $('#' + $(this).attr('data-target')).iris('show');
    });
    
    // Twitter and Facebook Listeners
    $('#campaign-create-checkbox-twitter').change(function ()
    {
      $('.twitter-signin').toggle();
    });
    $('#campaign-create-checkbox-facebook').change(function ()
    {
      $('.facebook-signin').toggle();
    });
    
    $('.campaign-create-color-picker').each(function ()
    {
     $(this).iris({
       change: function (event, ui) {
        pickerTarget = $(this).attr('data-target');
          if (pickerTarget === 'social-intro-background')
          {
            $('.social-modal-container, #campaign-message-preview').css('background-color', ui.color.toString());
          } // if
          else if (pickerTarget === 'share-text')
          {
            $('.share-text').css('color', ui.color.toString());
          }
          else
          {
            $('#' + pickerTarget).css('color', ui.color.toString());   
          } // else
         
         $('#' + pickerTarget + '-preview').css('background-color', ui.color.toString());
         $('#campaign-create-' + $(this).attr('data-target') + '-btn-text').text(ui.color.toString())
       } // change
     }); // .iris
    }); // . each
    // Hide iris on document click
    listenHideIris();
     
     function listenHideIris()
     {
       $('#campaign-create').click(function(e) {
  			if (!$(e.target).is('input[type="submit"], a') ) 
  			{
  				if (!$(e.target).is(".campaign-create-color-picker, .campaign-create-picker-btn span, .iris-picker, .iris-picker-inner, input[type='checkbox'], label")) {
  					$('.campaign-create-color-picker').iris('hide');
  					$('.campaign-create-color-picker').hide();
  					return false;
  				} // if
  				$('.campaign-create-color-picker').click(function() {
  					$('.campaign-create-color-picker').iris('hide');
  					$(this).iris('show');
  					return false;
  				}); // .color-picker click
  			} // if
  		}); // document.click
     }
    $('.campaign-create-input').focus(function ()
    {
      $('.campaign-create-section').removeClass('campaign-create-section-active');
      $('#campaign-create-section-' + $(this).attr('data-section')).addClass('campaign-create-section-active');
    });
    
    $('#campaign-message, #campaign-link').keyup(function ()
    {
      updateMessagePreview();
    }); // #campaign-link keyup
    
    $('#campaign-heading, #campaign-paragraph, #campaign-security').keyup(function ()
    {
      updateInterfacePreview();  
    }); // #campaign-heading keyup
    
    function updateInterfacePreview ()
    {
      $('#social-intro-heading').text($('#campaign-heading').val());
      $('#social-intro-paragraph').text($('#campaign-paragraph').val());
      $('#post-security').text($('#campaign-security').val());
    }
    
    function updateMessagePreview()
    {
      $('#campaign-message-preview').val($('#campaign-message').val() + " " + $('#campaign-link').val());
    } // updateMessagePreview()
    $('#campaign-create-form').submit(function (e)
    {
      e.preventDefault();
      var data = $(this).serialize();
      $.ajax({
        type: "post",
        url: "process-campaign",
        data: data
      }) // ajax post
      .done(function( msg ) {
        alert( "Data Saved: " + msg );
      }); // ajax done
    }); // campaign-create submit
  }); // jquery document ready
</script>
<footer>
  <div class="container container-fluid">
    <p>This is the footer</p>
  </div>
</footer>
</body>
</html>
